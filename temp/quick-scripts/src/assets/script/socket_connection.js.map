{"version":3,"sources":["assets\\script\\socket_connection.js"],"names":["socket","io","connect","reconnectionDelayMax","query","userId","senduserID","data","timeout","emit","receiveduserID","Promise","resolve","reject","on","userID","sendroomID","receivedroomID","console","log","chess","sendchessPosition","receivedchessPosition","once","push","length","senddeadchess","receiveddeadchess","sendstate","receivedstate","sendName","getSocket","name"],"mappings":";;;;;;;;;AAAA;;;;;;AACA,IAAMA,MAAM,GAAGC,EAAE,CAACC,OAAH,CAAW,yBAAX,EAAsC;AACnDC,EAAAA,oBAAoB,EAAE,KAD6B;AAEnDC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE;AADH;AAF4C,CAAtC,CAAf;;AAOA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;AAC3BP,EAAAA,MAAM,CAACQ,OAAP,CAAe,IAAf,EAAqBC,IAArB,CAA0B,YAA1B,EAAwCF,IAAxC;AACD,CAFD;;;;AAIA,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCb,IAAAA,MAAM,CAACc,EAAP,CAAU,gBAAV,EAA4B,UAACP,IAAD,EAAU;AACpC,UAAIQ,MAAM,GAAGR,IAAb;AACAK,MAAAA,OAAO,CAACG,MAAD,CAAP;AACAF,MAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,KAJD;AAKD,GANM,CAAP;AAOD,CARD;;;;AAUA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACT,IAAD,EAAU;AAC3BP,EAAAA,MAAM,CAACQ,OAAP,CAAe,IAAf,EAAqBC,IAArB,CAA0B,YAA1B,EAAwCF,IAAxC;AACD,CAFD;;;;AAIA,IAAMU,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,SAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCK,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAnB,IAAAA,MAAM,CAACc,EAAP,CAAU,gBAAV,EAA4B,UAACP,IAAD,EAAU;AACpCW,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAP,MAAAA,OAAO,CAACL,IAAD,CAAP;AACAM,MAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,KAJD;AAKD,GAPM,CAAP;AAQD,CAVD,EAYA;;;;AACA,IAAMO,KAAK,GAAG,EAAd;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACd,IAAD,EAAU;AAClCP,EAAAA,MAAM,CAACQ,OAAP,CAAe,GAAf,EAAoBC,IAApB,CAAyB,mBAAzB,EAA8CF,IAA9C;AACD,CAFD;;;;AAGA,IAAMe,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAY;AACxC,SAAO,IAAIX,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCb,IAAAA,MAAM,CAACuB,IAAP,CAAY,uBAAZ,EAAqC,UAAChB,IAAD,EAAU;AAC7Ca,MAAAA,KAAK,CAACI,IAAN,CAAWjB,IAAI,CAACA,IAAI,CAACkB,MAAL,GAAc,CAAf,CAAf;AACAb,MAAAA,OAAO,CAACQ,KAAD,CAAP;AACAP,MAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,KAJD;AAKD,GANM,CAAP;AAOD,CARD;;;;AAUA,IAAMa,aAAa,GAAG,SAAhBA,aAAgB,CAACnB,IAAD,EAAU;AAC9BP,EAAAA,MAAM,CAACQ,OAAP,CAAe,GAAf,EAAoBC,IAApB,CAAyB,eAAzB,EAA0CF,IAA1C;AACD,CAFD;;;;AAGA,IAAMoB,iBAAiB,GAAG,SAApBA,iBAAoB,GAAY;AACpC,SAAO,IAAIhB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCb,IAAAA,MAAM,CAACuB,IAAP,CAAY,mBAAZ,EAAiC,UAAChB,IAAD,EAAU;AACzCK,MAAAA,OAAO,CAACL,IAAD,CAAP;AACAM,MAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,KAHD;AAID,GALM,CAAP;AAMD,CAPD;;;;AASA,IAAMe,SAAS,GAAG,SAAZA,SAAY,CAACrB,IAAD,EAAU;AAC1BP,EAAAA,MAAM,CAACQ,OAAP,CAAe,GAAf,EAAoBC,IAApB,CAAyB,WAAzB,EAAsCF,IAAtC;AACD,CAFD;;;;AAGA,IAAMsB,aAAa,GAAG,SAAhBA,aAAgB,GAAY;AAChC,SAAO,IAAIlB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCb,IAAAA,MAAM,CAACuB,IAAP,CAAY,eAAZ,EAA6B,UAAChB,IAAD,EAAU;AACrCK,MAAAA,OAAO,CAACL,IAAD,CAAP;AACAM,MAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,KAHD;AAID,GALM,CAAP;AAMD,CAPD;;;;AAQA,IAAMiB,QAAQ,GAAG,SAAXA,QAAW,CAACzB,MAAD,EAAY;AAC3B,MAAML,MAAM,GAAG+B,SAAS,CAAC1B,MAAD,CAAxB;AACAL,EAAAA,MAAM,CAACS,IAAP,CAAY,MAAZ,EAAoB;AAAEuB,IAAAA,IAAI,EAAE;AAAR,GAApB;AACD,CAHD","sourceRoot":"/","sourcesContent":["import * as io from \"socket.io-client\";\r\nconst socket = io.connect(\"http://192.168.1.9:3000\", {\r\n  reconnectionDelayMax: 10000,\r\n  query: {\r\n    userId: 10,\r\n  },\r\n});\r\n\r\nconst senduserID = (data) => {\r\n  socket.timeout(2000).emit(\"senduserID\", data);\r\n};\r\n\r\nconst receiveduserID = () => {\r\n  return new Promise((resolve, reject) => {\r\n    socket.on(\"receiveduserID\", (data) => {\r\n      var userID = data;\r\n      resolve(userID);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\nconst sendroomID = (data) => {\r\n  socket.timeout(2000).emit(\"sendroomID\", data);\r\n};\r\n\r\nconst receivedroomID = () => {\r\n  console.log(\"receivedroomID() run\");\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"returnnew Promise run\");\r\n    socket.on(\"receivedroomID\", (data) => {\r\n      console.log(\"receivedrooomID() run\");\r\n      resolve(data);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\n//chess moves field\r\nconst chess = [];\r\nconst sendchessPosition = (data) => {\r\n  socket.timeout(500).emit(\"sendChessPosition\", data);\r\n};\r\nconst receivedchessPosition = function () {\r\n  return new Promise((resolve, reject) => {\r\n    socket.once(\"receivedChessPosition\", (data) => {\r\n      chess.push(data[data.length - 1]);\r\n      resolve(chess);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\nconst senddeadchess = (data) => {\r\n  socket.timeout(500).emit(\"senddeadchess\", data);\r\n};\r\nconst receiveddeadchess = function () {\r\n  return new Promise((resolve, reject) => {\r\n    socket.once(\"receiveddeadchess\", (data) => {\r\n      resolve(data);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\nconst sendstate = (data) => {\r\n  socket.timeout(500).emit(\"sendstate\", data);\r\n};\r\nconst receivedstate = function () {\r\n  return new Promise((resolve, reject) => {\r\n    socket.once(\"receivedstate\", (data) => {\r\n      resolve(data);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\nconst sendName = (userId) => {\r\n  const socket = getSocket(userId);\r\n  socket.emit(\"name\", { name: \"teo\" });\r\n};\r\n\r\nexport {\r\n  sendName,\r\n  senduserID,\r\n  receiveduserID,\r\n  sendchessPosition,\r\n  receivedchessPosition,\r\n  senddeadchess,\r\n  receiveddeadchess,\r\n  sendroomID,\r\n  receivedroomID,\r\n  sendstate,\r\n  receivedstate,\r\n};\r\n"]}