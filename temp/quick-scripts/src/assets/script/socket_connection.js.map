{"version":3,"sources":["assets\\script\\socket_connection.js"],"names":["socket","io","connect","reconnectionDelayMax","query","userId","senduserID","data","emit","receiveduserID","Promise","resolve","reject","on","userID","sendroomID","receivedroomID","console","log","chess","sendchessPosition","timeout","receivedchessPosition","once","push","length","senddeadchess","receiveddeadchess","sendstate","receivedstate","sendName","getSocket","name"],"mappings":"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","sourceRoot":"/","sourcesContent":["import * as io from \"socket.io-client\";\r\nconst socket = io.connect(\"http://192.168.1.31:3000\", {\r\n  reconnectionDelayMax: 10000,\r\n  query: {\r\n    userId: 10,\r\n  },\r\n});\r\n\r\nconst senduserID = (data) => {\r\n  socket.emit(\"senduserID\", data);\r\n};\r\n\r\nconst receiveduserID = () => {\r\n  return new Promise((resolve, reject) => {\r\n    socket.on(\"receiveduserID\", (data) => {\r\n      var userID = data;\r\n      resolve(userID);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\nconst sendroomID = (data) => {\r\n  socket.emit(\"sendroomID\", data);\r\n};\r\n\r\nconst receivedroomID = () => {  \r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"returnnew Promise run\");\r\n    socket.on(\"receivedroomID\", (data) => {\r\n      console.log(\"receivedrooomID() run\");\r\n      resolve(data);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\n//chess moves field\r\nconst chess = [];\r\nconst sendchessPosition = (data) => {\r\n  socket.timeout(500).emit(\"sendChessPosition\", data);\r\n};\r\nconst receivedchessPosition = function () {\r\n  return new Promise((resolve, reject) => {\r\n    socket.once(\"receivedChessPosition\", (data) => {\r\n      chess.push(data[data.length - 1]);\r\n      resolve(chess);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\nconst senddeadchess = (data) => {\r\n  socket.emit(\"senddeadchess\", data);\r\n};\r\n\r\nconst receiveddeadchess = function () {\r\n  return new Promise((resolve, reject) => {\r\n    socket.once(\"receiveddeadchess\", (data) => {\r\n      resolve(data);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\n\r\nconst sendstate = (data) => {\r\n  socket.emit(\"sendstate\", data);\r\n};\r\nconst receivedstate = function () {\r\n  return new Promise((resolve, reject) => {\r\n    socket.once(\"receivedstate\", (data) => {\r\n      resolve(data);\r\n      reject(\"something wrong\");\r\n    });\r\n  });\r\n};\r\nconst sendName = (userId) => {\r\n  const socket = getSocket(userId);\r\n  socket.emit(\"name\", { name: \"teo\" });\r\n};\r\n\r\nexport {\r\n  sendName,\r\n  senduserID,\r\n  receiveduserID,\r\n  sendchessPosition,\r\n  receivedchessPosition,\r\n  senddeadchess,\r\n  receiveddeadchess,\r\n  sendroomID,\r\n  receivedroomID,\r\n  sendstate,\r\n  receivedstate,\r\n};\r\n"]}