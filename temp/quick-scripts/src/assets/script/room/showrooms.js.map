{"version":3,"sources":["assets\\script\\room\\showrooms.js"],"names":["cc","Class","Component","properties","listrooms","type","Label","id","onLoad","then","data","uid","name","namedisplay","string","Username","console","log","show_rooms","roomlist","i","length","Player1","Player2","JSON","stringify","start","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["import { receiveduserID } from \"../socket_connection\";\r\nimport { getUserbyID, getroomlist } from \"../axios_connection\";\r\n// const fetch = require('node-fetch')\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n  properties: {\r\n    listrooms: {\r\n      default: null,\r\n      type: cc.Label,\r\n    },\r\n    id: {\r\n      default: null,\r\n      type: cc.Label,\r\n    },\r\n  },\r\n  onLoad() {\r\n    let id = this.id;\r\n    receiveduserID().then((data) => {\r\n      let uid = data;\r\n      let name = this.namedisplay;\r\n      getUserbyID(uid).then((data) => {\r\n        id.string = data.data.Username + \" #\" + uid;\r\n      }).catch(function () {\r\n        console.log(\"Promise Rejected\");\r\n      });\r\n    }).catch(function () {\r\n      console.log(\"Promise Rejected\");\r\n    });\r\n  },\r\n  show_rooms() {\r\n    let listrooms = this.listrooms;\r\n    let roomlist = [];\r\n    getroomlist().then((data) => {\r\n      for (var i = 0; i < data.data.length; i++) {\r\n        if (data.data[i].Player1 != null && data.data[i].Player2 != null) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- full\") + \"\\n\";\r\n        } else if (\r\n          data.data[i].Player1 != null &&\r\n          data.data[i].Player2 == null\r\n        ) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- 1/2\") + \"\\n\";\r\n        } else if (\r\n          data.data[i].Player1 == null &&\r\n          data.data[i].Player2 != null\r\n        ) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- 1/2\") + \"\\n\";\r\n        } else if (\r\n          data.data[i].Player1 == null &&\r\n          data.data[i].Player2 == null\r\n        ) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- 0/2\") + \"\\n\";\r\n        }\r\n      }\r\n      listrooms.string = roomlist;\r\n    })\r\n    .catch(function () {\r\n      console.log(\"Promise Rejected\");\r\n    });\r\n  },\r\n  start() {},\r\n  update(dt) {},\r\n});\r\n"]}