{"version":3,"sources":["assets\\script\\room\\createroom.js"],"names":["cc","Class","Component","properties","onLoad","create_room","RoomInfos","director","getScene","getChildByName","getComponent","then","data","uid","console","log","fetch","method","headers","Accept","body","JSON","stringify","Player1","Player2","response","json","rid","id","loadScene","start"],"mappings":";;;;;;AAAA;;AASA;AACAA,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAEPC,EAAAA,UAAU,EAAE,EAFL;AAGPC,EAAAA,MAHO,oBAGE,CAAE,CAHJ;AAIPC,EAAAA,WAJO,yBAIO;AACZ,QAAIC,SAAS,GAAGN,EAAE,CAACO,QAAH,CACbC,QADa,GAEbC,cAFa,CAEE,WAFF,EAGbC,YAHa,CAGA,WAHA,CAAhB;AAIA,6CAAiBC,IAAjB,CAAsB,UAACC,IAAD,EAAU;AAC9B,UAAIC,GAAG,GAAGD,IAAV;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;AACAG,MAAAA,KAAK,CAAC,kDAAD,EAAqD;AACxDC,QAAAA,MAAM,EAAE,MADgD;AAExDC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAF+C;AAMxDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,OAAO,EAAEV,GAAX;AAAgBW,UAAAA,OAAO,EAAE;AAAzB,SAAf;AANkD,OAArD,CAAL,CAQGb,IARH,CAQQ,UAACc,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OARR,EASGf,IATH,CASQ,UAACC,IAAD,EAAU;AACdN,QAAAA,SAAS,CAACqB,GAAV,GAAgBf,IAAI,CAACA,IAAL,CAAUgB,EAA1B;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBT,SAAS,CAACqB,GAAhC;AACA3B,QAAAA,EAAE,CAACO,QAAH,CAAYsB,SAAZ,CAAsB,MAAtB;AACD,OAbH;AAcD,KAjBD;AAkBD,GA3BM;AA4BPC,EAAAA,KA5BO,mBA4BC,CAAE,CA5BH,CA8BP;;AA9BO,CAAT","sourceRoot":"/","sourcesContent":["import {\r\n  receivedchessPosition,\r\n  sendchessPosition,\r\n  senduserID,\r\n  receiveduserID,\r\n  sendroomID,\r\n  receivedroomID,\r\n} from \"../socket_connection\";\r\n\r\n// const fetch = require('node-fetch')\r\ncc.Class({\r\n  extends: cc.Component,\r\n  properties: {},\r\n  onLoad() {},\r\n  create_room() {\r\n    let RoomInfos = cc.director\r\n      .getScene()\r\n      .getChildByName(\"RoomInfos\")\r\n      .getComponent(\"RoomInfos\");\r\n    receiveduserID().then((data) => {\r\n      var uid = data;\r\n      console.log(\"uid\", uid);\r\n      fetch(\"https://chinese-chess-vnp.herokuapp.com/api/room\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ Player1: uid, Player2: null }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          RoomInfos.rid = data.data.id;\r\n          console.log(\"roomid\", RoomInfos.rid);\r\n          cc.director.loadScene(\"room\");\r\n        });\r\n    });\r\n  },\r\n  start() {},\r\n\r\n  // update (dt) {},\r\n});\r\n"]}