{"version":3,"sources":["assets\\script\\room\\showrooms.js"],"names":["cc","Class","Component","properties","listrooms","type","Label","id","onLoad","then","data","uid","name","namedisplay","string","Username","show_rooms","roomlist","i","length","Player1","Player2","JSON","stringify","start","update","dt"],"mappings":";;;;;;AAAA;;AACA;;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAEPC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAE;AACT,iBAAS,IADA;AAETC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFA,KADD;AAKVC,IAAAA,EAAE,EAAE;AACF,iBAAS,IADP;AAEFF,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFP;AALM,GAFL;AAYPE,EAAAA,MAZO,oBAYE;AAAA;;AACP,QAAID,EAAE,GAAG,KAAKA,EAAd;AACA,6CAAiBE,IAAjB,CAAsB,UAACC,IAAD,EAAU;AAC9BC,MAAAA,GAAG,GAAGD,IAAN;AACA,UAAIE,IAAI,GAAG,KAAI,CAACC,WAAhB;AACA,yCAAYF,GAAZ,EAAiBF,IAAjB,CAAsB,UAACC,IAAD,EAAU;AAC9BH,QAAAA,EAAE,CAACO,MAAH,GAAYJ,IAAI,CAACA,IAAL,CAAUK,QAAV,GAAqB,IAArB,GAA4BJ,GAAxC;AACD,OAFD;AAGD,KAND;AAOD,GArBM;AAsBPK,EAAAA,UAtBO,wBAsBM;AACX,QAAIZ,SAAS,GAAG,KAAKA,SAArB;AACAa,IAAAA,QAAQ,GAAG,EAAX;AACA,yCAAcR,IAAd,CAAmB,UAACC,IAAD,EAAU;AAC3B,WAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACA,IAAL,CAAUS,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,YAAIR,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaE,OAAb,IAAwB,IAAxB,IAAgCV,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaG,OAAb,IAAwB,IAA5D,EAAkE;AAChEJ,UAAAA,QAAQ,IACNK,IAAI,CAACC,SAAL,CAAe,aAAab,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaX,EAA1B,GAA+B,WAA9C,IAA6D,IAD/D;AAED,SAHD,MAGO,IACLG,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaE,OAAb,IAAwB,IAAxB,IACAV,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaG,OAAb,IAAwB,IAFnB,EAGL;AACAJ,UAAAA,QAAQ,IACNK,IAAI,CAACC,SAAL,CAAe,aAAab,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaX,EAA1B,GAA+B,UAA9C,IAA4D,IAD9D;AAED,SANM,MAMA,IACLG,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaE,OAAb,IAAwB,IAAxB,IACAV,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaG,OAAb,IAAwB,IAFnB,EAGL;AACAJ,UAAAA,QAAQ,IACNK,IAAI,CAACC,SAAL,CAAe,aAAab,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaX,EAA1B,GAA+B,UAA9C,IAA4D,IAD9D;AAED,SANM,MAMA,IACLG,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaE,OAAb,IAAwB,IAAxB,IACAV,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaG,OAAb,IAAwB,IAFnB,EAGL;AACAJ,UAAAA,QAAQ,IACNK,IAAI,CAACC,SAAL,CAAe,aAAab,IAAI,CAACA,IAAL,CAAUQ,CAAV,EAAaX,EAA1B,GAA+B,UAA9C,IAA4D,IAD9D;AAED;AACF;;AACDH,MAAAA,SAAS,CAACU,MAAV,GAAmBG,QAAnB;AACD,KA1BD;AA2BD,GApDM;AAqDPO,EAAAA,KArDO,mBAqDC,CAAE,CArDH;AAsDPC,EAAAA,MAtDO,kBAsDAC,EAtDA,EAsDI,CAAE;AAtDN,CAAT","sourceRoot":"/","sourcesContent":["import { receiveduserID } from \"../socket_connection\";\r\nimport { getUserbyID, getroomlist } from \"../axios_connection\";\r\n// const fetch = require('node-fetch')\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n  properties: {\r\n    listrooms: {\r\n      default: null,\r\n      type: cc.Label,\r\n    },\r\n    id: {\r\n      default: null,\r\n      type: cc.Label,\r\n    },\r\n  },\r\n  onLoad() {\r\n    let id = this.id;\r\n    receiveduserID().then((data) => {\r\n      uid = data;\r\n      let name = this.namedisplay;\r\n      getUserbyID(uid).then((data) => {\r\n        id.string = data.data.Username + \" #\" + uid;\r\n      });\r\n    });\r\n  },\r\n  show_rooms() {\r\n    let listrooms = this.listrooms;\r\n    roomlist = [];\r\n    getroomlist().then((data) => {\r\n      for (var i = 0; i < data.data.length; i++) {\r\n        if (data.data[i].Player1 != null && data.data[i].Player2 != null) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- full\") + \"\\n\";\r\n        } else if (\r\n          data.data[i].Player1 != null &&\r\n          data.data[i].Player2 == null\r\n        ) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- 1/2\") + \"\\n\";\r\n        } else if (\r\n          data.data[i].Player1 == null &&\r\n          data.data[i].Player2 != null\r\n        ) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- 1/2\") + \"\\n\";\r\n        } else if (\r\n          data.data[i].Player1 == null &&\r\n          data.data[i].Player2 == null\r\n        ) {\r\n          roomlist +=\r\n            JSON.stringify(\"Room no \" + data.data[i].id + \" --- 0/2\") + \"\\n\";\r\n        }\r\n      }\r\n      listrooms.string = roomlist;\r\n    });\r\n  },\r\n  start() {},\r\n  update(dt) {},\r\n});\r\n"]}