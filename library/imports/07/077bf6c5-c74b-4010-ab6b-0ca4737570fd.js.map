{"version":3,"sources":["assets\\script\\board\\update.js"],"names":["cc","Class","Component","properties","movecodelist","type","Label","place","Node","redchess","blackchess","deadredchess","deadblackchess","map","movelist","rid","onLoad","updateall","start","update","dt","PlayerInfo","director","getScene","getChildByName","getComponent","string","redc","getChildren","blackc","then","data","j","length","name","x","y","tween","delay","to","position","v2","xed","yed","scale","easing","Player1","uid","pauseSystemEvents","Player2","resumeSystemEvents","k","JSON","stringify","push","console","log","countreddead","chesssize","call","node","parent","countblackdead"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n// import * as io from \"socket.io-client\";\r\n// let socket = io.connect('http://localhost:3000/');\\\r\nimport { getroombyID } from \"../axios_connection\";\r\nimport {\r\n  receivedchessPosition,\r\n  receiveddeadchess,\r\n  receivedroomID,\r\n  sendchessPosition,\r\n} from \"../socket_connection\";\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    movecodelist: {\r\n      default: null,\r\n      type: cc.Label,\r\n    },\r\n    place: {\r\n      default: null,\r\n      type: cc.Node,\r\n    },\r\n    redchess: {\r\n      default: null,\r\n      type: cc.Node,\r\n    },\r\n    blackchess: {\r\n      default: null,\r\n      type: cc.Node,\r\n    },\r\n    deadredchess: {\r\n      default: null,\r\n      type: cc.Node,\r\n    },\r\n    deadblackchess: {\r\n      default: null,\r\n      type: cc.Node,\r\n    },\r\n    map: {\r\n      default: null,\r\n      type: cc.Node,\r\n    },\r\n    movelist: [],\r\n    rid: {\r\n      default: null,\r\n      type: cc.Label,\r\n    },\r\n  },\r\n\r\n  onLoad() {},\r\n  updateall() {\r\n    // let map = this.map.getComponent(\"boardinfo\");\r\n    // list += JSON.stringify(map.movecode[map.movecode.length - 1]) + \"\\n\";\r\n  },\r\n  start() {},\r\n  update(dt = 10000) {\r\n    let PlayerInfo = cc.director\r\n      .getScene()\r\n      .getChildByName(\"PlayerInfo\")\r\n      .getComponent(\"PlayerInfo\");\r\n    var rid = this.rid.string;\r\n    var redchess = this.redchess;\r\n    var redc = redchess.getChildren();\r\n    var blackchess = this.blackchess;\r\n    var blackc = blackchess.getChildren();\r\n    let map = this.map.getComponent(\"boardinfo\");\r\n    let deadredchess = this.deadredchess;\r\n    let deadblackchess = this.deadblackchess;\r\n    var movecodelist = this.movecodelist;\r\n\r\n    receivedchessPosition()\r\n      .then((data) => {\r\n        for (var j = 0; j < redc.length; j++) {\r\n          if (\r\n            redc[j].name == data[data.length - 1].name &&\r\n            (redc[j].x != data[data.length - 1].x ||\r\n              redc[j].y != data[data.length - 1].y ||\r\n              (redc[j].x != data[data.length - 1].x &&\r\n                redc[j].y != data[data.length - 1].y))\r\n          ) {\r\n            //move chess\r\n            cc.tween(redc[j])\r\n              .delay(0.1)\r\n              .to(0.125, {\r\n                position: cc.v2(\r\n                  data[data.length - 1].xed,\r\n                  data[data.length - 1].yed + 5\r\n                ),\r\n                scale: 1.1,\r\n              })\r\n              .delay(0.125)\r\n              .to(\r\n                0.5,\r\n                {\r\n                  position: cc.v2(\r\n                    data[data.length - 1].x,\r\n                    data[data.length - 1].y + 15\r\n                  ),\r\n                  scale: 1.3,\r\n                },\r\n                { easing: \"backIn\" }\r\n              )\r\n              .delay(0.125)\r\n              .to(0.125, {\r\n                position: cc.v2(\r\n                  data[data.length - 1].x,\r\n                  data[data.length - 1].y\r\n                ),\r\n                scale: 1,\r\n              })\r\n              .start();\r\n\r\n            getroombyID(rid).then((data) => {\r\n              if (data.data.Player1 == PlayerInfo.uid) {\r\n                redchess.pauseSystemEvents(true);\r\n                blackchess.pauseSystemEvents(true);\r\n              }\r\n              if (data.data.Player2 == PlayerInfo.uid) {\r\n                redchess.pauseSystemEvents(true);\r\n                blackchess.resumeSystemEvents(true);\r\n              }\r\n            });\r\n            // redchess.pauseSystemEvents(true);\r\n            // blackchess.resumeSystemEvents(true);\r\n            break;\r\n          }\r\n        }\r\n        for (var k = 0; k < blackc.length; k++) {\r\n          if (\r\n            blackc[k].name == data[data.length - 1].name &&\r\n            (blackc[k].x != data[data.length - 1].x ||\r\n              blackc[k].y != data[data.length - 1].y ||\r\n              (blackc[k].x != data[data.length - 1].x &&\r\n                blackc[k].y != data[data.length - 1].y))\r\n          ) {\r\n            //move chess\r\n            cc.tween(blackc[k])\r\n              .delay(0.1)\r\n              .to(0.125, {\r\n                position: cc.v2(\r\n                  data[data.length - 1].xed,\r\n                  data[data.length - 1].yed + 5\r\n                ),\r\n                scale: 1.1,\r\n              })\r\n              .delay(0.125)\r\n              .to(\r\n                0.5,\r\n                {\r\n                  position: cc.v2(\r\n                    data[data.length - 1].x,\r\n                    data[data.length - 1].y + 15\r\n                  ),\r\n                  scale: 1.3,\r\n                },\r\n                { easing: \"backIn\" }\r\n              )\r\n              .delay(0.125)\r\n              .to(0.125, {\r\n                position: cc.v2(\r\n                  data[data.length - 1].x,\r\n                  data[data.length - 1].y\r\n                ),\r\n                scale: 1,\r\n              })\r\n              .start();\r\n            getroombyID(rid).then((data) => {\r\n              if (data.data.Player1 == PlayerInfo.uid) {\r\n                redchess.resumeSystemEvents(true);\r\n                blackchess.pauseSystemEvents(true);\r\n              }\r\n              if (data.data.Player2 == PlayerInfo.uid) {\r\n                redchess.pauseSystemEvents(true);\r\n                blackchess.pauseSystemEvents(true);\r\n              }\r\n            });\r\n            // blackchess.pauseSystemEvents(true);\r\n            // redchess.resumeSystemEvents(true);\r\n            break;\r\n          }\r\n        }\r\n        if (\r\n          this.movelist.length == 0 ||\r\n          this.movelist[this.movelist.length - 1] !==\r\n            JSON.stringify(data[data.length - 1])\r\n        ) {\r\n          this.movelist.push(JSON.stringify(data[data.length - 1]));\r\n        }\r\n        movecodelist.string = this.movelist;\r\n      })\r\n      .catch(function () {\r\n        console.log(\"Promise Rejected\");\r\n      });\r\n    receiveddeadchess()\r\n      .then((data) => {\r\n        for (var j = 0; j < redc.length; j++) {\r\n          if (redc[j].name == data.name) {\r\n            map.countreddead++;\r\n            // redc[j].setScale(0.8, 0.8);\r\n            cc.tween(redc[j])\r\n              .delay(1)\r\n              .to(0, {\r\n                position: cc.v2(187.5 - map.countreddead * map.chesssize, 0),\r\n              })\r\n              .call(() => {\r\n                this.node.pauseSystemEvents(true);\r\n                this.node.parent = deadredchess;\r\n              })\r\n              .start();\r\n\r\n            // redc[j].anchorX = 1;\r\n            // redc[j].anchorY = 0.5;\r\n            // redc[j].y = 0;\r\n            // redc[j].x = 187.5 - map.countreddead * map.chesssize;\r\n            // redc[j].pauseSystemEvents(true);\r\n            // redc[j].parent = deadredchess;\r\n          }\r\n        }\r\n        for (var k = 0; k < blackc.length; k++) {\r\n          if (blackc[k].name == data.name) {\r\n            map.countblackdead++;\r\n            cc.tween(blackc[k])\r\n              .delay(1)\r\n              .to(0, {\r\n                position: cc.v2(-187.5 + map.countblackdead * map.chesssize, 0),\r\n              })\r\n              .call(() => {\r\n                this.node.pauseSystemEvents(true);\r\n                this.node.parent = deadblackchess;\r\n              })\r\n              .start();\r\n\r\n            // blackc[k].anchorX = 0;\r\n            // blackc[k].anchorY = 0.5;\r\n            // blackc[k].y = 0;\r\n            // blackc[k].x = -187.5 + map.countblackdead * map.chesssize;\r\n            // blackc[k].pauseSystemEvents(true);\r\n            // blackc[k].parent = deadblackchess;\r\n          }\r\n        }\r\n      })\r\n      .catch(function () {\r\n        console.log(\"Promise Rejected\");\r\n      });\r\n  },\r\n});\r\n"]}